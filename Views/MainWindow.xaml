<Window x:Class="GamepadEmulator.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Gamepad Emulator" Height="600" Width="800"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Title -->
        <TextBlock Grid.Row="0" Text="Gamepad Emulator" 
                   FontSize="24" FontWeight="Bold" 
                   HorizontalAlignment="Center" 
                   Margin="10"/>
        
        <!-- Controls Panel -->
        <GroupBox Grid.Row="1" Header="Controls" Margin="10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Button Content="Start" Command="{Binding StartCommand}" />
                <Button Content="Stop" Command="{Binding StopCommand}" />
                <Button Content="{Binding IsPaused, StringFormat='Pause/Resume ({0})'}" 
                        Command="{Binding PauseResumeCommand}" />
                <Button Content="PANIC" Command="{Binding PanicCommand}" 
                        Background="Red" Foreground="White" FontWeight="Bold"/>
            </StackPanel>
        </GroupBox>
        
        <!-- Settings Panel -->
        <GroupBox Grid.Row="2" Header="Settings" Margin="10">
            <StackPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <TextBlock Text="Mouse Sensitivity:" Width="120"/>
                    <Slider Value="{Binding Sensitivity}" 
                            Minimum="0.1" Maximum="3.0" 
                            TickFrequency="0.1" IsSnapToTickEnabled="True"
                            Width="200"/>
                    <TextBlock Text="{Binding Sensitivity, StringFormat='{}{0:F2}'}" Width="50"/>
                </StackPanel>
                
                <!-- Joystick Visualization -->
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Left Stick -->
                    <GroupBox Grid.Column="0" Header="Left Stick (WASD)" Margin="5">
                        <StackPanel HorizontalAlignment="Center">
                            <TextBlock Text="{Binding LeftStickX, StringFormat='X: {0}'}" />
                            <TextBlock Text="{Binding LeftStickY, StringFormat='Y: {0}'}" />
                            <ProgressBar Value="{Binding LeftStickX}" Minimum="-32767" Maximum="32767" 
                                         Width="100" Height="10" Margin="5"/>
                            <ProgressBar Value="{Binding LeftStickY}" Minimum="-32767" Maximum="32767" 
                                         Width="100" Height="10" Margin="5"/>
                        </StackPanel>
                    </GroupBox>
                    
                    <!-- Right Stick -->
                    <GroupBox Grid.Column="1" Header="Right Stick (Mouse)" Margin="5">
                        <StackPanel HorizontalAlignment="Center">
                            <TextBlock Text="{Binding RightStickX, StringFormat='X: {0}'}" />
                            <TextBlock Text="{Binding RightStickY, StringFormat='Y: {0}'}" />
                            <ProgressBar Value="{Binding RightStickX}" Minimum="-32767" Maximum="32767" 
                                         Width="100" Height="10" Margin="5"/>
                            <ProgressBar Value="{Binding RightStickY}" Minimum="-32767" Maximum="32767" 
                                         Width="100" Height="10" Margin="5"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </StackPanel>
        </GroupBox>
        
        <!-- Log Output -->
        <GroupBox Grid.Row="3" Header="Log Output" Margin="10">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <ListBox ItemsSource="{Binding LogMessages}" 
                         ScrollViewer.HorizontalScrollBarVisibility="Auto">
                    <ListBox.ItemContainerStyle>
                        <Style TargetType="ListBoxItem">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                            <Setter Property="Padding" Value="2"/>
                        </Style>
                    </ListBox.ItemContainerStyle>
                </ListBox>
            </ScrollViewer>
        </GroupBox>
        
        <!-- Status Bar -->
        <StatusBar Grid.Row="4">
            <StatusBarItem>
                <TextBlock Text="{Binding StatusText}" />
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>